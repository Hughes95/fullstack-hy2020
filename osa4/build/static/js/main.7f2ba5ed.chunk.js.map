{"version":3,"sources":["osa2/Filter.js","osa2/PersonForm.js","services/persons.js","components/Notification.js","components/Person.js","App.js","index.js"],"names":["Filter","props","value","newName","onChange","handlePerson","PersonForm","onSubmit","addName","newNumber","handleNumber","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","Person","person","painaa","label","name","number","onClick","App","useState","persons","setPersons","setNewName","setNewNumber","etsi","setNewetsi","showAll","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","personsToShow","filter","paivittaa","find","map","kaikki","includes","console","log","n","changed","window","confirm","location","reload","setTimeout","returned","p","catch","error","updateNumber","event1","target","event","preventDefault","personObject","length","concat","virhe","JSON","stringify","i","important","poistaa","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f2ba5ed.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n  \n  return   <form>\n            <div>filter shown with\n            <input value={props.newName} onChange={props.handlePerson} />\n            </div>\n          </form>\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  \n  return  <form onSubmit={props.addName}>\n  <div>name:<input value={props.newName} onChange={props.handlePerson} />\n  </div>\n  <div>number:<input value={props.newNumber}onChange={props.handleNumber} /></div>\n  <div>\n   <button type=\"submit\">add</button>\n  </div>\n </form>\n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n  }\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst poista = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, poista}\n","import React from 'react'\n\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Person = ({ person, painaa }) => {\n  const label = person.name\n    ? 'delete' : 'delete'\n\n  return (\n    <div>\n      {person.name} {person.number}  \n      <button onClick={painaa}>{label}</button>\n    </div>\n  )\n}\nexport default Person","import React, { useState, useEffect } from 'react'\nimport Filter from './osa2/Filter'\nimport PersonForm from './osa2/PersonForm'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\nimport Person from './components/Person'\n\n\nconst App = () => {\n    const [ persons, setPersons] = useState([]) \n      const [ newName, setNewName ] = useState('')\n      const [ newNumber, setNewNumber ] = useState('')\n      const [ etsi, setNewetsi] = useState('')\n      const [showAll, setShowAll] = useState(true)\n      const [errorMessage, setErrorMessage] = useState(null)\n\n      useEffect(() => {\n        personsService\n        .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n      }, [])\n      \n      const addName = (event) => {\n        event.preventDefault()\n        const personObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.length + 1,\n        }\n\n        personsService\n        .create(personObject)\n        .then(setErrorMessage(\n          `Note '${newName}' added to phonebook`\n        ))\n        .then(setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)   )\n        .then(returned=> {\n        setPersons(persons.concat(returned))\n        setNewName('')\n        setNewNumber('')\n        })\n        .catch(error => {\n        var virhe = JSON.stringify(error.response.data.error);\n          setErrorMessage(virhe)\n\n          console.log(error.response.data.error)\n        })\n        window.location.reload()\n      }\n\n      const updateNumber = (id) => {\n        const url = `http://localhost:3001/persons/${id}`\n        const person = persons.find(n => n.id === id)\n        const changed = { ...person, number: newNumber }\n\n        if( window.confirm( person.name + \" is already added to phonebook, replace the old number with new one?\") ) {\n            personsService\n            .update(id, changed)\n            window.location.reload()\n            .then(setErrorMessage(\n              ` ${person.name} is updated`\n            ))\n            .then(setTimeout(() => {\n              setErrorMessage(null)\n            }, 2500)   )\n            .then(returned => {\n              setPersons(persons.map(p => person.id !== id ? p : returned))\n            })\n            .catch(error => {\n              setPersons(persons.filter(n => n.id !== id))\n              setErrorMessage(\n                `Information of ${person.name} has already been removed from server`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 2500)   \n            })\n        }\n      }\n\n      const poistaa = (id) => {\n        const url = `http://localhost:3001/persons/${id}`\n        const person = persons.find(n => n.id === id)\n        const changedNote = { ...person, important: person.important }\n      \n        if (window.confirm(\"Delete \" + person.name + \" ?\")) {\n          personsService\n          .poista(id)\n          .then(setErrorMessage(\n            ` ${person.name} is deleted`\n          ))\n          .then(setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)   )\n          .then(returned => {\n            setPersons(persons.map(p => p.id !== id ? p : returned))\n          })\n          .catch(error => {\n            setPersons(persons.filter(n => n.id !== id))\n          })\n          window.location.reload()\n        }\n      }\n\n      const handleEtsi = (event1) => {\n        setNewetsi(event1.target.value)\n      }\n\n      const handlePerson = (event) => {\n        console.log(event.target.value)   \n        setNewName(event.target.value)\n      }\n\n      const handleNumber = (event) => {\n        console.log(event.target.value)   \n        setNewNumber(event.target.value)\n      }\n      \n    const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name)\n\n\n    const paivittaa =  persons.find( ({name}) => name === newName  );\n\n    if(persons.map(kaikki => kaikki.name).includes(newName) === true && persons.map(kaikki => kaikki.id).includes(newName.id) === false ) {\n      console.log(paivittaa.id)\n      updateNumber(paivittaa.id)\n    }\n\n      return (\n      <div>\n      <Notification message={errorMessage} />\n      <h2>Phonebook</h2>    \n        <Filter newName={etsi} handlePerson={handleEtsi}  />\n        <h3>Add a new</h3>\n        <PersonForm addName={addName} newName={newName} handlePerson={handlePerson} \n        newNumber={newNumber} handleNumber={handleNumber} />\n        <h2>Numbers</h2>\n          {personsToShow.filter(person => person.name.includes(etsi)).map((\n          (person, i) => <Person key={i} \n          person={person} \n          painaa={() => poistaa(person.id)}/> ))} \n          </div>\n    )\n  }\n\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport axios from 'axios'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}