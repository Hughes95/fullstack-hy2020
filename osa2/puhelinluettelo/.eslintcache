[{"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/index.js":"1","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/App.js":"2","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Filter.js":"3","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/PersonForm.js":"4","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Notification.js":"5","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Person.js":"6","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/services/persons.js":"7","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Name.js":"8","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Persons.js":"9"},{"size":167,"mtime":1607879882724,"results":"10","hashOfConfig":"11"},{"size":4766,"mtime":1610971314623,"results":"12","hashOfConfig":"11"},{"size":246,"mtime":1607933312766,"results":"13","hashOfConfig":"11"},{"size":362,"mtime":1607933363600,"results":"14","hashOfConfig":"11"},{"size":233,"mtime":1609247829722,"results":"15","hashOfConfig":"11"},{"size":268,"mtime":1608278028147,"results":"16","hashOfConfig":"11"},{"size":627,"mtime":1608727460051,"results":"17","hashOfConfig":"11"},{"size":133,"mtime":1608107626981,"results":"18","hashOfConfig":"11"},{"size":296,"mtime":1608105829924,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},"noewif",{"filePath":"24","messages":"25","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"23"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"23"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/index.js",["43"],"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport axios from 'axios'\n\nReactDOM.render(<App />, document.getElementById('root'))",["44","45"],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/App.js",["46","47","48","49"],"import React, { useState, useEffect } from 'react'\nimport Filter from './osa2/Filter'\nimport PersonForm from './osa2/PersonForm'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\nimport Person from './components/Person'\n\n\nconst App = () => {\n    const [ persons, setPersons] = useState([]) \n      const [ newName, setNewName ] = useState('')\n      const [ newNumber, setNewNumber ] = useState('')\n      const [ etsi, setNewetsi] = useState('')\n      const [showAll, setShowAll] = useState(true)\n      const [errorMessage, setErrorMessage] = useState(null)\n\n      useEffect(() => {\n        personsService\n        .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n      }, [])\n      \n      const addName = (event) => {\n        event.preventDefault()\n        const personObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.length + 1,\n        }\n\n        personsService\n        .create(personObject)\n        .then(setErrorMessage(\n          `Note '${newName}' added to phonebook`\n        ))\n        .then(setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)   )\n        .then(returned=> {\n        setPersons(persons.concat(returned))\n        setNewName('')\n        setNewNumber('')\n        })\n        .catch(error => {\n        var virhe = JSON.stringify(error.response.data.error);\n          setErrorMessage(virhe)\n\n          console.log(error.response.data.error)\n        })\n        window.location.reload()\n      }\n\n      const updateNumber = (id) => {\n        const url = `http://localhost:3001/persons/${id}`\n        const person = persons.find(n => n.id === id)\n        const changed = { ...person, number: newNumber }\n\n        if( window.confirm( person.name + \" is already added to phonebook, replace the old number with new one?\") ) {\n            personsService\n            .update(id, changed)\n            window.location.reload()\n            .then(setErrorMessage(\n              ` ${person.name} is updated`\n            ))\n            .then(setTimeout(() => {\n              setErrorMessage(null)\n            }, 2500)   )\n            .then(returned => {\n              setPersons(persons.map(p => person.id !== id ? p : returned))\n            })\n            .catch(error => {\n              setPersons(persons.filter(n => n.id !== id))\n              setErrorMessage(\n                `Information of ${person.name} has already been removed from server`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 2500)   \n            })\n        }\n      }\n\n      const toggleImportanceOf = (id) => {\n        const url = `http://localhost:3001/persons/${id}`\n        const person = persons.find(n => n.id === id)\n        const changedNote = { ...person, important: person.important }\n      \n        if (window.confirm(\"Delete \" + person.name + \" ?\")) {\n          personsService\n          .poista(id)\n          .then(setErrorMessage(\n            ` ${person.name} is deleted`\n          ))\n          .then(setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)   )\n          .then(returned => {\n            setPersons(persons.map(p => p.id !== id ? p : returned))\n          })\n          .catch(error => {\n            setPersons(persons.filter(n => n.id !== id))\n          })\n        }\n      }\n\n      const handleEtsi = (event1) => {\n        setNewetsi(event1.target.value)\n      }\n\n      const handlePerson = (event) => {\n        console.log(event.target.value)   \n        setNewName(event.target.value)\n      }\n\n      const handleNumber = (event) => {\n        console.log(event.target.value)   \n        setNewNumber(event.target.value)\n      }\n      \n    const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name)\n\n\n    const paivittaa =  persons.find( ({name}) => name === newName  );\n\n    if(persons.map(kaikki => kaikki.name).includes(newName) === true && persons.map(kaikki => kaikki.id).includes(newName.id) === false ) {\n      console.log(paivittaa.id)\n      updateNumber(paivittaa.id)\n    }\n\n      return (\n      <div>\n      <Notification message={errorMessage} />\n      <h2>Phonebook</h2>    \n        <Filter newName={etsi} handlePerson={handleEtsi}  />\n        <h3>Add a new</h3>\n        <PersonForm addName={addName} newName={newName} handlePerson={handlePerson} \n        newNumber={newNumber} handleNumber={handleNumber} />\n        <h2>Numbers</h2>\n          {personsToShow.filter(person => person.name.includes(etsi)).map((\n          (person, i) => <Person key={i} \n          person={person} \n          painaa={() => toggleImportanceOf(person.id)}/> ))} \n          </div>\n    )\n  }\n\nexport default App ","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Filter.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/PersonForm.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Notification.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Person.js",[],["50","51"],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/services/persons.js",["52"],"import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n  }\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst poista = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, poista}\n","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Name.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Persons.js",[],{"ruleId":"53","severity":1,"message":"54","line":4,"column":8,"nodeType":"55","messageId":"56","endLine":4,"endColumn":13},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"53","severity":1,"message":"61","line":15,"column":23,"nodeType":"55","messageId":"56","endLine":15,"endColumn":33},{"ruleId":"53","severity":1,"message":"62","line":57,"column":15,"nodeType":"55","messageId":"56","endLine":57,"endColumn":18},{"ruleId":"53","severity":1,"message":"62","line":87,"column":15,"nodeType":"55","messageId":"56","endLine":87,"endColumn":18},{"ruleId":"53","severity":1,"message":"63","line":89,"column":15,"nodeType":"55","messageId":"56","endLine":89,"endColumn":26},{"ruleId":"57","replacedBy":"64"},{"ruleId":"59","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":24,"column":1,"nodeType":"68","endLine":24,"endColumn":49},"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","no-native-reassign",["69"],"no-negated-in-lhs",["70"],"'setShowAll' is assigned a value but never used.","'url' is assigned a value but never used.","'changedNote' is assigned a value but never used.",["69"],["70"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]