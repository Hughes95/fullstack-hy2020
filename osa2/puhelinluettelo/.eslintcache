[{"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/index.js":"1","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/App.js":"2","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Filter.js":"3","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/PersonForm.js":"4","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Notification.js":"5","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Person.js":"6","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/services/persons.js":"7"},{"size":167,"mtime":1607879882724,"results":"8","hashOfConfig":"9"},{"size":4778,"mtime":1609252730535,"results":"10","hashOfConfig":"9"},{"size":246,"mtime":1607933312766,"results":"11","hashOfConfig":"9"},{"size":362,"mtime":1607933363600,"results":"12","hashOfConfig":"9"},{"size":233,"mtime":1609247829722,"results":"13","hashOfConfig":"9"},{"size":268,"mtime":1608278028147,"results":"14","hashOfConfig":"9"},{"size":627,"mtime":1608727460051,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},"noewif",{"filePath":"20","messages":"21","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"19"},"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/index.js",["35"],"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport axios from 'axios'\n\nReactDOM.render(<App />, document.getElementById('root'))",["36","37"],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/App.js",["38","39","40","41"],"import React, { useState, useEffect } from 'react'\nimport Filter from './osa2/Filter'\nimport PersonForm from './osa2/PersonForm'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\nimport Person from './components/Person'\n\n\nconst App = () => {\n    const [ persons, setPersons] = useState([]) \n      const [ newName, setNewName ] = useState('')\n      const [ newNumber, setNewNumber ] = useState('')\n      const [ etsi, setNewetsi] = useState('')\n      const [showAll, setShowAll] = useState(true)\n      const [errorMessage, setErrorMessage] = useState(null)\n\n      useEffect(() => {\n        personsService\n        .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n      }, [])\n      \n      const addName = (event) => {\n        event.preventDefault()\n        const personObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.length + 1,\n        }\n\n        personsService\n        .create(personObject)\n        .then(setErrorMessage(\n          `Note '${newName}' added to phonebook`\n        ))\n        .then(setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)   )\n        .then(returned=> {\n        setPersons(persons.concat(returned))\n        setNewName('')\n        setNewNumber('')\n        })\n        .catch(error => {\n        var virhe = JSON.stringify(error.response.data.error);\n          setErrorMessage(virhe)\n\n          console.log(error.response.data.error)\n        })\n      }\n\n      const updateNumber = (id) => {\n        const url = `http://localhost:3001/persons/${id}`\n        const note = persons.find(n => n.id === id)\n        const changed = { ...note, number: newNumber }\n\n        if( window.confirm( note.name + \" is already added to phonebook, replace the old number with new one?\") ) {\n            personsService\n            .update(id, changed)\n            window.location.reload()\n            .then(setErrorMessage(\n              ` ${note.name} is updated`\n            ))\n            .then(setTimeout(() => {\n              setErrorMessage(null)\n            }, 2500)   )\n            .then(returnedNote => {\n              setPersons(persons.map(note => note.id !== id ? note : returnedNote))\n            })\n            .catch(error => {\n              setPersons(persons.filter(n => n.id !== id))\n              setErrorMessage(\n                `Information of ${note.name} has already been removed from server`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 2500)   \n            })\n        }\n      }\n\n      const toggleImportanceOf = (id) => {\n        const url = `http://localhost:3001/persons/${id}`\n        const note = persons.find(n => n.id === id)\n        const changedNote = { ...note, important: note.important }\n      \n        if (window.confirm(\"Delete \" + note.name + \" ?\")) {\n          personsService\n          .poista(id)\n          .then(setErrorMessage(\n            ` ${note.name} is deleted`\n          ))\n          .then(setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)   )\n          .then(returnedNote => {\n            setPersons(persons.map(note => note.id !== id ? note : returnedNote))\n          })\n          .catch(error => {\n            setPersons(persons.filter(n => n.id !== id))\n          })\n          window.location.reload();\n        }\n      }\n\n      const handleEtsi = (event1) => {\n        setNewetsi(event1.target.value)\n      }\n\n      const handlePerson = (event) => {\n        console.log(event.target.value)   \n        setNewName(event.target.value)\n      }\n\n      const handleNumber = (event) => {\n        console.log(event.target.value)   \n        setNewNumber(event.target.value)\n      }\n      \n    const personsToShow = showAll\n    ? persons\n    : persons.filter(person => person.name)\n\n\n    const paivittaa =  persons.find( ({name}) => name === newName  );\n\n    if(persons.map(kaikki => kaikki.name).includes(newName) === true && persons.map(kaikki => kaikki.id).includes(newName.id) === false ) {\n      console.log(paivittaa.id)\n      updateNumber(paivittaa.id)\n    }\n\n      return (\n      <div>\n      <Notification message={errorMessage} />\n      <h2>Phonebook</h2>    \n        <Filter newName={etsi} handlePerson={handleEtsi}  />\n        <h3>Add a new</h3>\n        <PersonForm addName={addName} newName={newName} handlePerson={handlePerson} \n        newNumber={newNumber} handleNumber={handleNumber} />\n        <h2>Numbers</h2>\n          {personsToShow.filter(person => person.name.includes(etsi)).map((\n          (person, i) => <Person key={i} \n          person={person} \n          painaa={() => toggleImportanceOf(person.id)}/> ))} \n          </div>\n    )\n  }\n\nexport default App ","/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/Filter.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/osa2/PersonForm.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Notification.js",[],["42","43"],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/components/Person.js",[],"/Users/hugheschaleehong/fullstack-hy2020/osa2/puhelinluettelo/src/services/persons.js",["44"],"import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n  }\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst poista = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, poista}\n",{"ruleId":"45","severity":1,"message":"46","line":4,"column":8,"nodeType":"47","messageId":"48","endLine":4,"endColumn":13},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"45","severity":1,"message":"53","line":15,"column":23,"nodeType":"47","messageId":"48","endLine":15,"endColumn":33},{"ruleId":"45","severity":1,"message":"54","line":56,"column":15,"nodeType":"47","messageId":"48","endLine":56,"endColumn":18},{"ruleId":"45","severity":1,"message":"54","line":86,"column":15,"nodeType":"47","messageId":"48","endLine":86,"endColumn":18},{"ruleId":"45","severity":1,"message":"55","line":88,"column":15,"nodeType":"47","messageId":"48","endLine":88,"endColumn":26},{"ruleId":"49","replacedBy":"56"},{"ruleId":"51","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":24,"column":1,"nodeType":"60","endLine":24,"endColumn":49},"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","no-native-reassign",["61"],"no-negated-in-lhs",["62"],"'setShowAll' is assigned a value but never used.","'url' is assigned a value but never used.","'changedNote' is assigned a value but never used.",["61"],["62"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]